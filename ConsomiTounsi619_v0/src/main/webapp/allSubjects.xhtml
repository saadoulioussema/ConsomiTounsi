<?xml version="1.0" encoding="UTF-8"?> <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" xmlns:f="http://xmlns.jcp.org/jsf/core" 
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	template="/template/template.xhtml"
	>

<ui:define name="AllSub">	
<f:view>
<h:head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
</h:head>
<h:body >

 
<h:panelGroup columns="2">
<h:form>
<p:growl id="messages" showDetail="true" />
 
    <h:panelGrid columns="2" cellpadding="5">
    <b style="color:red">Rating :</b>
        <p:rating value="#{subjectController.rating1}" stars="10" />
        
        </h:panelGrid>
<p:inputText value="#{subjectController.mot}" a:placeholder="type your comment .."></p:inputText>
<br/><br/>
<b style="color:red">All Subjects</b>
   
        <br/><br/>

<br/><br/>
<h:dataTable value="#{subjectController.subjects}" var="subject" border="1">
<h:column>
<f:facet name="header">
<h:outputText value="type" />
</f:facet>
<h:outputText value="#{subject.type}" />
</h:column>
<h:column>
<f:facet name="header">
<h:outputText value="title" />
</f:facet>
<h:outputText value="#{subject.title}" />
</h:column>
<h:column>
<f:facet name="header">
<h:outputText value="description" />
</f:facet>
<h:outputText value="#{subject.description}" />
</h:column>
<h:column>
<f:facet name="header">
<h:outputText value="Creation Date" />
</f:facet>
<h:outputText value="#{subject.creation_date}" />
</h:column>

<h:column>
<f:facet name="header">
<h:outputText value="Action" />
</f:facet>
<h:commandButton action="#{subjectController.showlist(subject.id)}"
value="Show Comments"  />
<br/>
<h:commandButton action="#{subjectController.addComment(subject.id)}"
value="Add Comment"   />
<br/>
<h:commandButton action="#{subjectController.Rate(subject.id)}"
value="Rate"   />
</h:column>
</h:dataTable>
<br/><br/>

</h:form>
</h:panelGroup>

<h:panelGroup columns="2">
<h:form>
<b style="color:red">Comments : </b>
<br/><br/>
<h:dataTable value="#{subjectController.comments}" var="comm" border="1">
<h:column>
<f:facet name="header">
<h:outputText value="comment" />
</f:facet>
<h:outputText value="#{comm.mot}" />
</h:column>
<h:column>
<f:facet name="header">
<h:outputText value="User" />
</f:facet>
<h:outputText value="#{comm.user.username}" />
</h:column>

<h:column>
<f:facet name="header">
<h:outputText value="Evaluate" />
</f:facet>

<h:commandLink action="#{subjectController.addLevaluation(comm.id)}">
<h:graphicImage value="#{subjectController.LImageURL}" width="50" height="50"></h:graphicImage >
</h:commandLink>
<h:commandLink action="#{subjectController.addDevaluation(comm.id)}">
<h:graphicImage value="#{subjectController.DImageURL}" width="45" height="45"></h:graphicImage >
</h:commandLink>
<h:commandLink action="#{subjectController.addHevaluation(comm.id)}">
<h:graphicImage value="#{subjectController.HImageURL}" width="50" height="50"></h:graphicImage >
</h:commandLink>
<h:commandLink action="#{subjectController.addSevaluation(comm.id)}">
<h:graphicImage value="#{subjectController.SImageURL}" width="40" height="40"></h:graphicImage >
</h:commandLink>
<h:commandLink action="#{subjectController.addMevaluation(comm.id)}">
<h:graphicImage value="#{subjectController.MImageURL}" width="50" height="50"></h:graphicImage >
</h:commandLink>
</h:column>

<h:column>
<f:facet name="header">
<h:outputText value="Evaluations " />
</f:facet>
<h:outputText value="#{subjectController.getLike(comm.id)}" />
<h:graphicImage value="#{subjectController.LImageURL}" width="25" height="25"></h:graphicImage >
<br/>
<h:outputText value="#{subjectController.getDislike(comm.id)}" />
<h:graphicImage value="#{subjectController.DImageURL}" width="25" height="25"></h:graphicImage >
<br/>
<h:outputText value="#{subjectController.getHappy(comm.id)}" />
<h:graphicImage value="#{subjectController.HImageURL}" width="25" height="25"></h:graphicImage >
<br/>
<h:outputText value="#{subjectController.getSad(comm.id)}" />
<h:graphicImage value="#{subjectController.SImageURL}" width="20" height="20"></h:graphicImage >
<br/>
<h:outputText value="#{subjectController.getMedium(comm.id)}" />
<h:graphicImage value="#{subjectController.MImageURL}" width="25" height="25"></h:graphicImage >
<br/>


</h:column>





</h:dataTable>
<br/><br/>
<p:commandButton action="#{subjectController.MyComm()}" value="Show all my comments" ></p:commandButton>
<br/><br/>
<p:commandButton action="#{subjectController.PertComm()}" value="Show most pertinent comments" ></p:commandButton>
<br/><br/>

</h:form>
</h:panelGroup>

</h:body>
</f:view>

</ui:define>


</ui:composition>