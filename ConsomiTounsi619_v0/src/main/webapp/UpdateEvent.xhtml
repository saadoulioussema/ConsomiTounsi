<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
		 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
 	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:p="http://primefaces.org/ui"
	  template="/template/template.xhtml">
<h:head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Update Event</title>
</h:head>
<h:body>
<script type="text/javascript">
    $(function () {
        $("#f\\:chk").click(function () {
            if ($(this).is(":checked")) {
                $("#f\\:nb").removeAttr("disabled","true");
                $("#f\\:percentage").removeAttr("disabled","true");
                $("#f\\:nb").focus();
            } else {
                $("#f\\:nb").attr("disabled", "false");
                $("#f\\:percentage").attr("disabled", "false");
            }
        });
    });
</script>
<center>
	<h1>UPDATE EVENT</h1>
	<h:form id="f" enctype="multipart/form-data">
		<h:panelGroup columns="2">
			<table>
				<tr>
					<td>
						<p:outputLabel value="Event Category: "/>
					</td>
					<td>
						<p:selectOneMenu  value="#{EventController.category}" >
						<f:selectItems value="#{data.eventCategories}" />
						</p:selectOneMenu>
					</td>
				</tr>
				<tr>
					<td>
						<p:outputLabel value="Event name: "/>
					</td>
					<td>
						<p:inputText value="#{EventController.name}" />
					</td>
				</tr>
				<tr>
					<td>
						<p:outputLabel value="Event description: "/>
					</td>
					<td>
						<p:inputTextarea value="#{EventController.description}"/>
					</td>
				</tr>
				<tr>
					<td>
						<p:outputLabel value="Date of event: " />
					</td>
					<td>
        				<p:calendar pattern="dd/MM/yyyy" value="#{EventController.date}" mode="popup" showOn="button"/>
                   	</td>
				</tr>
				<tr>
					<td>
						<p:outputLabel value="Hour of event: "/>
					</td>
					<td>
						<p:calendar id="time" value="#{EventController.hour}" pattern="HH:mm" timeOnly="true"  />					
					</td>
				</tr>
				<tr>
					<td>
						<p:outputLabel value="Location: "/>
					</td>
					<td>
						<p:inputText  value="#{EventController.location}" />
					</td>
				</tr>
				<tr>
					<td>
						<p:outputLabel value="Event poster: "/>
					</td>
					<td>
						<h:form>   
							<h:inputFile value="#{EventController.file}"/>     
						</h:form>
					</td>
				</tr>
				<tr>
					<td>
						<p:outputLabel for="chk" value="Early Bird Option: "/>
					</td>
					<td>
						<h:selectBooleanCheckbox id="chk" value="#{EventController.earlyBirdOpt}"/>
					</td>
				</tr>
				<tr>
					<td>
						<p:outputLabel value="Nbre of E.B tickets: "/>
					</td>
					<td>
						<p:inputText id="nb" value="#{EventController.nbrEarlyBirdTickets}" />
					</td>
				</tr>
				<tr>
					<td>
						<p:outputLabel value="Discount percentage: "/>
					</td>
					<td>
						<p:inputText id="percentage" value="#{EventController.discountPercentage}" />
					</td>
				</tr>
				<tr>
					<td>
						<p:outputLabel value="Ticket price: "/>
					</td>
					<td>
						<p:spinner value="#{EventController.ticketPrice}"/>
					</td>
				</tr>
				<tr>
					<td>
						<p:outputLabel value="Nbre. of places: "/>
					</td>
					<td>
						<p:spinner value="#{EventController.placesNbr}" />
					</td>
				</tr>
				<tr>
					<td>
						<p:outputLabel value="Event goal: "/>
					</td>
					<td>
						<p:spinner value="#{EventController.goal}"/>
					</td>
				</tr>
			</table>
			<br />
			<center>
			<p:commandButton value="Save" action="#{EventController.saveUpdates()}" ajax="false"/>
			<p:button value="Cancel"  outcome="allEventsAD" ajax="false"/>
			</center>
		</h:panelGroup>
	</h:form>
</center>
</h:body>
</html>